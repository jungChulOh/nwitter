{"version":3,"sources":["fbase.js","routes/Profile.jsx","components/AuthForm.jsx","routes/Auth.jsx","components/Nweet.jsx","components/NwetterForm.jsx","routes/Home.jsx","components/Navigation.jsx","components/Router.jsx","components/App.jsx","index.jsx"],"names":["process","firebaseConfig","apiKey","REACT_APP_APP_KEY","authDomain","REACT_APP_AUTH_DOMAIN","projectId","REACT_APP_PROJECT_ID","storageBucket","REACT_APP_STORAGE_BUCKET","messagingSenderId","REACT_APP_MESSAGEING_SENDER_ID","appId","REACT_APP_APP_ID","firebase","initializeApp","firebaseInstance","authService","auth","dbService","firestore","storageService","storage","Profile","userObj","refreshUser","history","useHistory","useState","displayName","newDispayName","setNewDispayName","photoURL","newPhotoURL","onSubmit","event","a","preventDefault","updateProfile","className","src","alt","htmlFor","size","type","placeholder","value","onChange","target","onClick","signOut","push","AuthForm","children","email","password","form","setForm","error","setError","newAccount","setNewAccount","name","createUserWithEmailAndPassword","signInWithEmailAndPassword","message","required","prev","Auth","onSocialClick","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","SocialButtonGroup","Nweet","nweetObj","isOwner","isEdit","setIsEdit","text","newNweet","setNewNweet","onDeleteClick","window","confirm","doc","id","delete","refFromURL","attachmentURL","onToggleEdit","update","width","height","NwetterForm","nweet","setNweet","attachment","setAttachment","nwitteRef","useRef","fileRef","alert","current","focus","attachmentRef","ref","child","uid","uuidV4","putString","response","getDownloadURL","createDt","Date","now","createId","collection","add","then","result","catch","console","log","files","file","reader","FileReader","onloadend","fileData","readAsDataURL","maxLength","accept","Home","nweets","setNweets","useEffect","orderBy","onSnapshot","nweetsArray","docs","map","n","data","Navigation","to","AppRouter","isLoggedIn","exact","path","App","init","setInit","setUserObj","onAuthStateChanged","user","args","Boolean","currentUser","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.516ab50f.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nconst {\n  REACT_APP_APP_KEY,\n  REACT_APP_AUTH_DOMAIN,\n  REACT_APP_PROJECT_ID,\n  REACT_APP_STORAGE_BUCKET,\n  REACT_APP_MESSAGEING_SENDER_ID,\n  REACT_APP_APP_ID,\n} = process.env;\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n  apiKey: REACT_APP_APP_KEY,\n  authDomain: REACT_APP_AUTH_DOMAIN,\n  projectId: REACT_APP_PROJECT_ID,\n  storageBucket: REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: REACT_APP_MESSAGEING_SENDER_ID,\n  appId: REACT_APP_APP_ID,\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const firebaseInstance = firebase;\n\nexport const authService = firebase.auth();\nexport const dbService = firebase.firestore();\nexport const storageService = firebase.storage();\n","import { authService } from \"fbase\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { FcUpload } from \"react-icons/fc\";\n\nconst Profile = ({ userObj, refreshUser }) => {\n  const history = useHistory();\n  const [newDispayName, setNewDispayName] = useState(userObj.displayName);\n  const [newPhotoURL, setNewPhotoURL] = useState(userObj.photoURL);\n  const onLogoutClick = () => {\n    authService.signOut();\n    history.push(\"/\");\n  };\n  const onDisplayNameChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewDispayName(value);\n  };\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    if (userObj.displayName !== newDispayName) {\n      await userObj.updateProfile({ displayName: newDispayName });\n    }\n    refreshUser();\n  };\n\n  // const getNwitter = async () => {\n  //   const response = await dbService\n  //     .collection(\"nweets\")\n  //     .where(\"createId\", \"==\", userObj.uid)\n  //     .orderBy(\"createDt\", \"desc\")\n  //     .get();\n  //   console.log(response.docs.map((nweet) => nweet.data()));\n  // };\n\n  // useEffect(() => {\n  //   getNwitter();\n  // }, []);\n  return (\n    <div className=\"px-3 w-full lg:w-4/5 flex flex-col items-center\">\n      <div className=\"border p-5 rounded-md shadow-lg my-5 flex flex-col items-center\">\n        <img src={newPhotoURL} alt=\"Profile\" className=\"rounded-full my-4\" />\n        <label\n          htmlFor=\"nwitteFile\"\n          className=\"w-full my-2 block p-3 border border-dashed hover:text-white hover:bg-gray-400 text-center\"\n        >\n          <FcUpload size=\"25px\" className=\"inline\" /> 프로필 사진 변경하기\n        </label>\n        <form onSubmit={onSubmit}>\n          <div className=\"mb-2 h-10 border flex justify-between rounded\">\n            <input\n              type=\"text\"\n              placeholder=\"Update Your Display Name!\"\n              value={newDispayName}\n              onChange={onDisplayNameChange}\n              className=\"p-2 w-10/12 h-full text-gray-400 focus:border-blue-700 focus:shadow-xl focus:text-gray-700 flex-auto rounded rounded-r-none\"\n            />\n            <input\n              type=\"submit\"\n              value=\"Update Profile\"\n              className=\"p-2 font-bold text-white bg-blue-500 hover:bg-blue-600 flex-auto rounded rounded-l-none\"\n            />\n          </div>\n        </form>\n      </div>\n      <div className=\"px-3 w-full lg:w-4/5 text-center\">\n        <button\n          onClick={onLogoutClick}\n          className=\"px-6 py-3 bg-red-400 text-white hover:bg-red-500 rounded\"\n        >\n          Log Out\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n","import { authService } from \"fbase\";\nimport React, { useState } from \"react\";\n\nconst AuthForm = ({ children }) => {\n  const [form, setForm] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [error, setError] = useState(null);\n  const [newAccount, setNewAccount] = useState(true);\n\n  const onChange = (event) => {\n    const {\n      target: { name, value },\n    } = event;\n    setForm({ ...form, [name]: value });\n  };\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      if (newAccount) {\n        await authService.createUserWithEmailAndPassword(\n          form.email,\n          form.password\n        );\n      } else {\n        await authService.signInWithEmailAndPassword(form.email, form.password);\n      }\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n  const onToggle = () => setNewAccount((prev) => !prev);\n\n  return (\n    <>\n      <div className=\"border rounded sm:w-full md:w-4/12 flex flex-col\">\n        <header className=\"bg-gray-100 rounded-b p-5\">\n          <div className=\"text-center mb-3\">\n            <h1 className=\"text-blue-400 font-bold\">Welcome to Nwitter!</h1>\n          </div>\n          {children}\n        </header>\n        <form onSubmit={onSubmit} className=\"flex flex-col mt-2 p-5\">\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            required\n            value={form.email}\n            onChange={onChange}\n            className=\"border p-3 text-gray-500 focus:text-gray-900 focus:border-blue-200 focus:shadow-lg mb-2 rounded\"\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            required\n            value={form.password}\n            onChange={onChange}\n            className=\"border p-3 text-gray-500 focus:text-gray-900 focus:border-blue-200 focus:shadow-lg mb-2 rounded\"\n          />\n          <input\n            type=\"submit\"\n            value={!newAccount ? \"Login\" : \"Create Account\"}\n            className=\"border py-3 px-4 bg-green-400 text-white font-bold rounded cursor-pointer hover:shadow hover:bg-green-600\"\n          />\n        </form>\n        {error && (\n          <div className=\"px-5 mb-4\">\n            <p className=\"p-3 bg-red-400 text-white rounded shadow\">{error}</p>\n          </div>\n        )}\n      </div>\n      <div className=\"text-right mt-2\">\n        <span\n          onClick={onToggle}\n          className=\"text-blue-400 hover:text-blue-500 cursor-pointer\"\n        >\n          {newAccount ? \"Sign In\" : \"Create Account\"}\n        </span>\n      </div>\n    </>\n  );\n};\n\nexport default AuthForm;\n","import React from \"react\";\nimport { authService, firebaseInstance } from \"fbase\";\nimport AuthForm from \"components/AuthForm\";\nimport { FaGoogle, FaGithub } from \"react-icons/fa\";\n\nconst Auth = () => {\n  const onSocialClick = async (event) => {\n    const {\n      target: { name },\n    } = event;\n    let provider;\n    if (name === \"google\") {\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\n    } else if (name === \"github\") {\n      provider = new firebaseInstance.auth.GithubAuthProvider();\n    }\n\n    await authService.signInWithPopup(provider);\n  };\n\n  const SocialButtonGroup = () => {\n    return (\n      <div className=\"flex flex-col\">\n        <button\n          className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold rounded border hover:shadow py-3 px-4 mb-2\"\n          onClick={onSocialClick}\n          name=\"google\"\n        >\n          <FaGoogle className=\"inline mr-3\" size=\"20px\" /> Continue with Google\n        </button>\n        <button\n          className=\"bg-white hover:bg-gray-400 hover:text-white font-bold rounded border hover:shadow py-3 px-4 mb-2\"\n          onClick={onSocialClick}\n          name=\"github\"\n        >\n          <FaGithub className=\"inline mr-3\" size=\"20px\" /> Continue with Github\n        </button>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"container w-full h-screen flex flex-col items-center justify-center\">\n      <AuthForm>\n        <SocialButtonGroup />\n      </AuthForm>\n    </div>\n  );\n};\n\nexport default Auth;\n","import { dbService, storageService } from \"fbase\";\nimport React, { useState } from \"react\";\nimport { FiDelete, FiEdit3 } from \"react-icons/fi\";\n\nconst Nweet = ({ nweetObj, isOwner }) => {\n  const [isEdit, setIsEdit] = useState(false);\n  const [newNweet, setNewNweet] = useState(nweetObj.text);\n  const onDeleteClick = async () => {\n    const ok = window.confirm(\"Are you sure Delete Nweet?\");\n    if (ok) {\n      await dbService.doc(`nweets/${nweetObj.id}`).delete();\n      await storageService.refFromURL(nweetObj.attachmentURL).delete();\n    }\n  };\n  const onToggleEdit = () => setIsEdit((prev) => !prev);\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    await dbService.doc(`nweets/${nweetObj.id}`).update({ text: newNweet });\n    setIsEdit(false);\n  };\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewNweet(value);\n  };\n\n  return (\n    <div className=\"inline-block border rounded mb-5 lg:w-3/6 md:w-10/12 w-10/12\">\n      {nweetObj.attachmentURL ? (\n        <img src={nweetObj.attachmentURL} alt=\"...\" width=\"100%\" />\n      ) : (\n        <div className=\"w-screen h-3\"></div>\n      )}\n      {isEdit ? (\n        <>\n          <form onSubmit={onSubmit} className=\"px-5\">\n            <div className=\"text-right mt-2\">\n              <input\n                type=\"submit\"\n                value=\"Edit Nweet\"\n                className=\"px-2 py-1 mr-2 bg-blue-400 hover:bg-blue-500 text-white rounded\"\n              />\n              <button\n                onClick={onToggleEdit}\n                className=\"px-2 py-1 bg-red-400 text-white hover:bg-red-500 rounded\"\n              >\n                Cancel\n              </button>\n            </div>\n            <input\n              type=\"text\"\n              placeholder=\"Edit is Nweet\"\n              value={newNweet}\n              onChange={onChange}\n              className=\"w-full my-2 border rounded p-3 text-gray-500 focus:text-gray-800 focus:shadow-lg\"\n            />\n          </form>\n        </>\n      ) : (\n        <div className=\"px-5 text-gray-600\">\n          {isOwner && (\n            <div className=\"flex justify-between items-center mt-2\">\n              <div className=\"flex justify-center items-center\">\n                <img\n                  src={nweetObj.photoURL}\n                  alt=\"profile\"\n                  width=\"50px\"\n                  height=\"50px\"\n                  className=\"rounded-full inline mr-2\"\n                />\n                <span className=\"text-gray-400\">{nweetObj.displayName}</span>\n              </div>\n              <div>\n                <button\n                  onClick={onToggleEdit}\n                  className=\"hover:text-gray-400 p-2 mr-1\"\n                >\n                  <FiEdit3 size=\"25px\" />\n                </button>\n                <button\n                  onClick={onDeleteClick}\n                  className=\"hover:text-gray-400 p-2\"\n                >\n                  <FiDelete size=\"25px\" />\n                </button>\n              </div>\n            </div>\n          )}\n          <h4 className=\"my-4\">{nweetObj.text}</h4>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Nweet;\n","import React, { useRef, useState } from \"react\";\nimport { dbService, storageService } from \"fbase\";\nimport { v4 as uuidV4 } from \"uuid\";\nimport { FcUpload } from \"react-icons/fc\";\n\nconst NwetterForm = ({ userObj }) => {\n  const [nweet, setNweet] = useState(\"\");\n  const [attachment, setAttachment] = useState(\"\");\n  const nwitteRef = useRef();\n  const fileRef = useRef();\n  // submit\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    let attachmentURL = \"\";\n    if (!nweet) {\n      alert(\"생각을 먼저 입력해 주세요.\");\n      nwitteRef.current.focus();\n      return;\n    }\n    if (attachment !== \"\") {\n      const attachmentRef = storageService\n        .ref()\n        .child(`${userObj.uid}/${uuidV4()}`);\n      const response = await attachmentRef.putString(attachment, \"data_url\");\n      attachmentURL = await response.ref.getDownloadURL();\n    }\n    const nweetObj = {\n      text: nweet,\n      createDt: Date.now(),\n      createId: userObj.uid,\n      displayName: userObj.displayName,\n      photoURL: userObj.photoURL,\n      attachmentURL,\n    };\n    await dbService\n      .collection(\"nweets\")\n      .add(nweetObj)\n      .then((result) => {\n        setNweet(\"\");\n        setAttachment(\"\");\n        fileRef.current.value = \"\";\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n  // 텍스트박스, 첨부파일(사진) 변경\n  const onChange = (event) => {\n    const {\n      target: { type, value, files },\n    } = event;\n\n    if (type === \"text\") {\n      setNweet(value);\n      return;\n    }\n\n    if (type === \"file\") {\n      const file = files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onloadend = (fileData) => setAttachment(fileData.target.result);\n        reader.readAsDataURL(file);\n      } else {\n        setAttachment(\"\");\n      }\n      return;\n    }\n  };\n  //첨부파일(사진) input box 변경\n  // const onFileChange = (event) => {\n  //   const {\n  //     target: { files },\n  //   } = event;\n\n  //   const file = files[0];\n  //   const reader = new FileReader();\n  //   reader.onloadend = (fileData) => setAttachment(fileData.target.result);\n  //   reader.readAsDataURL(file);\n  // };\n\n  const onClearAttachment = () => {\n    setAttachment(\"\");\n    fileRef.current.value = \"\";\n  };\n\n  return (\n    <form onSubmit={onSubmit}>\n      {attachment && (\n        <div className=\"mb-2 relative flex justify-center\">\n          <img src={attachment} alt=\"...\" className=\"w-80 h-48\" />\n          <div className=\"absolute right-0\">\n            <button\n              onClick={onClearAttachment}\n              className=\"py-2 px-4 text-white bg-red-500 hover:bg-red-600 font-bold rounded\"\n            >\n              Clear\n            </button>\n          </div>\n        </div>\n      )}\n      <div className=\"mb-2 h-10 border flex justify-between rounded\">\n        <input\n          type=\"text\"\n          name=\"nwitte\"\n          ref={nwitteRef}\n          placeholder=\"지금 당신의 생각은 어떻습니까?\"\n          value={nweet}\n          onChange={onChange}\n          maxLength={120}\n          className=\"p-2 w-10/12 h-full text-gray-400 focus:border-blue-700 focus:shadow-xl focus:text-gray-700 flex-auto rounded rounded-r-none\"\n        />\n        <input\n          type=\"submit\"\n          value=\"Nwitte\"\n          className=\"p-2 font-bold text-white bg-blue-500 hover:bg-blue-600 flex-auto rounded rounded-l-none\"\n        />\n      </div>\n      {/* <div className=\"w-full border flex justify-center p-3 text-center border-dashed\"> */}\n      <label\n        htmlFor=\"nwitteFile\"\n        className=\"block p-3 border border-dashed hover:text-white hover:bg-gray-400 text-center\"\n      >\n        <FcUpload size=\"25px\" className=\"inline\" /> 사진 올리기\n      </label>\n      <input\n        ref={fileRef}\n        type=\"file\"\n        name=\"nwitteFile\"\n        id=\"nwitteFile\"\n        accept=\"image/*\"\n        onChange={onChange}\n        className=\"hidden\"\n      />\n      {/* </div> */}\n    </form>\n  );\n};\n\nexport default NwetterForm;\n","import React, { useEffect, useState } from \"react\";\nimport { dbService } from \"fbase\";\nimport Nweet from \"components/Nweet\";\nimport NwetterForm from \"components/NwetterForm\";\n\nconst Home = ({ userObj }) => {\n  const [nweets, setNweets] = useState([]);\n\n  useEffect(() => {\n    dbService\n      .collection(\"nweets\")\n      .orderBy(\"createDt\", \"desc\")\n      .onSnapshot((result) => {\n        const nweetsArray = result.docs.map((n) => ({\n          ...n.data(),\n          id: n.id,\n          text: n.data().text,\n        }));\n        setNweets(nweetsArray);\n      });\n  }, []);\n\n  return (\n    <div className=\"px-3 w-full lg:w-4/5\">\n      <div className=\"border p-5 rounded-md shadow-lg my-5\">\n        <NwetterForm userObj={userObj} />\n      </div>\n      <div className=\"w-full flex flex-col items-center\">\n        {nweets &&\n          nweets.map((nweet) => (\n            <Nweet\n              key={nweet.id}\n              nweetObj={nweet}\n              isOwner={nweet.createId === userObj.uid}\n            />\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FaHome } from \"react-icons/fa\";\nimport { ImProfile } from \"react-icons/im\";\n\nconst Navigation = () => {\n  return (\n    <div className=\"flex justify-center p-5 border-b shadow fixed w-full bg-white z-30\">\n      <nav className=\"w-5/12\">\n        <ul className=\"flex justify-around\">\n          <li>\n            <Link to=\"/\" className=\"hover:text-gray-500\">\n              <div className=\"flex flex-col justify-center items-center\">\n                <FaHome size=\"25px\" />\n                <span>Home</span>\n              </div>\n            </Link>\n          </li>\n          <li>\n            <Link to=\"/profile\" className=\"hover:text-gray-500\">\n              <div className=\"flex flex-col justify-center items-center\">\n                <ImProfile size=\"25px\" />\n                <span>Profile</span>\n              </div>\n            </Link>\n          </li>\n        </ul>\n      </nav>\n    </div>\n  );\n};\n\nexport default Navigation;\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Profile from \"routes/Profile\";\nimport Auth from \"../routes/Auth\";\nimport Home from \"../routes/Home\";\nimport Navigation from \"./Navigation\";\n\nconst AppRouter = ({ isLoggedIn, userObj, refreshUser }) => {\n  return (\n    <Router>\n      {isLoggedIn && <Navigation userObj={userObj} />}\n\n      <Switch>\n        {isLoggedIn ? (\n          <div className=\"container pt-28 flex justify-center\">\n            <Route exact path=\"/\">\n              <Home userObj={userObj} />\n            </Route>\n            <Route exact path=\"/profile\">\n              <Profile userObj={userObj} refreshUser={refreshUser} />\n            </Route>\n          </div>\n        ) : (\n          <Route exact path=\"/\">\n            <Auth />\n          </Route>\n        )}\n      </Switch>\n    </Router>\n  );\n};\n\nexport default AppRouter;\n","import React, { useEffect, useState } from \"react\";\nimport AppRouter from \"components/Router\";\nimport { authService } from \"fbase\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        setUserObj({\n          displayName: user.displayName,\n          uid: user.uid,\n          photoURL: user.photoURL,\n          updateProfile: (args) => user.updateProfile(args),\n        });\n      } else {\n        setUserObj(null);\n      }\n\n      setInit(true);\n    });\n  }, []);\n\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    setUserObj({\n      displayName: user.displayName,\n      uid: user.uid,\n      photoURL: user.photoURL,\n      updateProfile: (args) => user.updateProfile(args),\n    });\n  };\n\n  return (\n    <>\n      {init ? (\n        <AppRouter\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj}\n          refreshUser={refreshUser}\n        />\n      ) : (\n        <div>Loading...</div>\n      )}\n      {/* <footer>&copy; Nwitter {new Date().getFullYear()}</footer> */}\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"components/App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}