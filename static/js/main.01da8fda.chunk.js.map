{"version":3,"sources":["fbase.js","routes/Profile.jsx","components/AuthForm.jsx","routes/Auth.jsx","components/Nweet.jsx","components/NwetterForm.jsx","routes/Home.jsx","components/Navigation.jsx","components/Router.jsx","components/App.jsx","index.jsx"],"names":["process","firebaseConfig","apiKey","REACT_APP_APP_KEY","authDomain","REACT_APP_AUTH_DOMAIN","projectId","REACT_APP_PROJECT_ID","storageBucket","REACT_APP_STORAGE_BUCKET","messagingSenderId","REACT_APP_MESSAGEING_SENDER_ID","appId","REACT_APP_APP_ID","firebase","initializeApp","firebaseInstance","authService","auth","dbService","firestore","storageService","storage","Profile","userObj","refreshUser","history","useHistory","useState","displayName","newDispayName","setNewDispayName","photoURL","newPhotoURL","setNewPhotoURL","fileRef","useRef","onSubmit","event","a","preventDefault","attachmentURL","changeProfile","deleteFile","refFromURL","delete","then","test","console","log","catch","e","attachementRef","ref","child","uid","uuidV4","putString","response","getDownloadURL","updateProfile","collection","where","get","docs","map","doc","update","className","src","alt","width","height","size","htmlFor","type","name","id","accept","onChange","file","target","files","reader","FileReader","onloadend","fileData","result","readAsDataURL","placeholder","value","onClick","signOut","push","AuthForm","children","email","password","form","setForm","error","setError","newAccount","setNewAccount","createUserWithEmailAndPassword","signInWithEmailAndPassword","message","required","prev","Auth","onSocialClick","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","SocialButtonGroup","Nweet","nweetObj","isOwner","isEdit","setIsEdit","text","newNweet","setNewNweet","onDeleteClick","window","confirm","onToggleEdit","NwetterForm","nweet","setNweet","attachment","setAttachment","nwitteRef","alert","current","focus","attachmentRef","createDt","Date","now","createId","add","maxLength","Home","nweets","setNweets","useEffect","orderBy","onSnapshot","nweetsArray","n","data","Navigation","to","AppRouter","isLoggedIn","exact","path","App","init","setInit","setUserObj","onAuthStateChanged","user","args","Helmet","content","Boolean","currentUser","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.01da8fda.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nconst {\n  REACT_APP_APP_KEY,\n  REACT_APP_AUTH_DOMAIN,\n  REACT_APP_PROJECT_ID,\n  REACT_APP_STORAGE_BUCKET,\n  REACT_APP_MESSAGEING_SENDER_ID,\n  REACT_APP_APP_ID,\n} = process.env;\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n  apiKey: REACT_APP_APP_KEY,\n  authDomain: REACT_APP_AUTH_DOMAIN,\n  projectId: REACT_APP_PROJECT_ID,\n  storageBucket: REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: REACT_APP_MESSAGEING_SENDER_ID,\n  appId: REACT_APP_APP_ID,\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const firebaseInstance = firebase;\n\nexport const authService = firebase.auth();\nexport const dbService = firebase.firestore();\nexport const storageService = firebase.storage();\n","import { authService, dbService, storageService } from \"fbase\";\nimport React, { useRef, useState } from \"react\";\nimport { v4 as uuidV4 } from \"uuid\";\nimport { useHistory } from \"react-router\";\nimport { FcUpload } from \"react-icons/fc\";\nimport { CgProfile } from \"react-icons/cg\";\n\nconst Profile = ({ userObj, refreshUser }) => {\n  const history = useHistory();\n  const [newDispayName, setNewDispayName] = useState(() =>\n    !userObj.displayName ? \"No NickName\" : userObj.displayName\n  );\n  const [newPhotoURL, setNewPhotoURL] = useState(userObj.photoURL);\n\n  const fileRef = useRef(null);\n\n  const onLogoutClick = () => {\n    authService.signOut();\n    history.push(\"/\");\n  };\n  const onDisplayNameChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewDispayName(value);\n  };\n  const onDisplayPhotoChange = (event) => {\n    const {\n      target: { files },\n    } = event;\n\n    const file = files[0];\n    if (!file) {\n      setNewPhotoURL(\"\");\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.onloadend = (fileData) => setNewPhotoURL(fileData.target.result);\n    reader.readAsDataURL(file);\n  };\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    let attachmentURL = \"\";\n    let changeProfile = {};\n\n    if (userObj.photoURL !== newPhotoURL) {\n      const deleteFile = storageService.refFromURL(userObj.photoURL);\n      await deleteFile\n        .delete()\n        .then((test) => console.log)\n        .catch((e) => console.log);\n\n      if (newPhotoURL) {\n        const attachementRef = storageService\n          .ref()\n          .child(`user/${userObj.uid}/profile/${uuidV4()}`);\n        const response = await attachementRef.putString(\n          newPhotoURL,\n          \"data_url\"\n        );\n        attachmentURL = await response.ref.getDownloadURL();\n      }\n      changeProfile.photoURL = attachmentURL;\n    }\n\n    if (userObj.displayName !== newDispayName) {\n      changeProfile.displayName = newDispayName;\n    }\n    await userObj.updateProfile(changeProfile);\n    refreshUser();\n    const data = await dbService\n      .collection(\"nweets\")\n      .where(\"createId\", \"==\", userObj.uid)\n      .get();\n    data.docs.map((doc) => doc.ref.update(changeProfile));\n  };\n\n  // const getNwitter = async () => {\n  //   const response = await dbService\n  //     .collection(\"nweets\")\n  //     .where(\"createId\", \"==\", userObj.uid)\n  //     .orderBy(\"createDt\", \"desc\")\n  //     .get();\n  //   console.log(response.docs.map((nweet) => nweet.data()));\n  // };\n\n  // useEffect(() => {\n  //   getNwitter();\n  // }, []);\n  return (\n    <div className=\"px-3 w-full lg:w-4/5 flex flex-col items-center\">\n      <div className=\"border p-5 rounded-md shadow-lg my-5 flex flex-col items-center\">\n        {newPhotoURL ? (\n          <img\n            src={newPhotoURL}\n            alt=\"Profile\"\n            width=\"100px\"\n            height=\"100px\"\n            className=\"rounded-full my-4\"\n          />\n        ) : (\n          <CgProfile size=\"100px\" />\n        )}\n        <label\n          htmlFor=\"photoFile\"\n          className=\"w-full my-2 block p-3 border border-dashed hover:text-white hover:bg-gray-400 text-center\"\n        >\n          <FcUpload size=\"25px\" className=\"inline\" /> 프로필 사진 변경하기\n        </label>\n        <input\n          ref={fileRef}\n          type=\"file\"\n          name=\"photoFile\"\n          id=\"photoFile\"\n          accept=\"image/*\"\n          onChange={onDisplayPhotoChange}\n          className=\"hidden\"\n        />\n        <form onSubmit={onSubmit}>\n          <div className=\"mb-2 h-10 border flex justify-between rounded\">\n            <input\n              type=\"text\"\n              placeholder=\"Update Your Display Name!\"\n              value={newDispayName}\n              onChange={onDisplayNameChange}\n              className=\"p-2 w-10/12 h-full text-gray-400 focus:border-blue-700 focus:shadow-xl focus:text-gray-700 flex-auto rounded rounded-r-none\"\n            />\n            <input\n              type=\"submit\"\n              value=\"Update Profile\"\n              className=\"p-2 font-bold text-white bg-blue-500 hover:bg-blue-600 flex-auto rounded rounded-l-none\"\n            />\n          </div>\n        </form>\n      </div>\n      <div className=\"px-3 w-full lg:w-4/5 text-center\">\n        <button\n          onClick={onLogoutClick}\n          className=\"px-6 py-3 bg-red-400 text-white hover:bg-red-500 rounded\"\n        >\n          Log Out\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n","import { authService } from \"fbase\";\nimport React, { useState } from \"react\";\n\nconst AuthForm = ({ children }) => {\n  const [form, setForm] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [error, setError] = useState(null);\n  const [newAccount, setNewAccount] = useState(true);\n\n  const onChange = (event) => {\n    const {\n      target: { name, value },\n    } = event;\n    setForm({ ...form, [name]: value });\n  };\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      if (newAccount) {\n        await authService.createUserWithEmailAndPassword(\n          form.email,\n          form.password\n        );\n      } else {\n        await authService.signInWithEmailAndPassword(form.email, form.password);\n      }\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n  const onToggle = () => setNewAccount((prev) => !prev);\n\n  return (\n    <>\n      <div className=\"border rounded sm:w-full md:w-4/12 flex flex-col\">\n        <header className=\"bg-gray-100 rounded-b p-5\">\n          <div className=\"text-center mb-3\">\n            <h1 className=\"text-blue-400 font-bold\">Welcome to Nwitter!</h1>\n          </div>\n          {children}\n        </header>\n        <form onSubmit={onSubmit} className=\"flex flex-col mt-2 p-5\">\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            required\n            value={form.email}\n            onChange={onChange}\n            className=\"border p-3 text-gray-500 focus:text-gray-900 focus:border-blue-200 focus:shadow-lg mb-2 rounded\"\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            required\n            value={form.password}\n            onChange={onChange}\n            className=\"border p-3 text-gray-500 focus:text-gray-900 focus:border-blue-200 focus:shadow-lg mb-2 rounded\"\n          />\n          <input\n            type=\"submit\"\n            value={!newAccount ? \"Login\" : \"Create Account\"}\n            className=\"border py-3 px-4 bg-green-400 text-white font-bold rounded cursor-pointer hover:shadow hover:bg-green-600\"\n          />\n        </form>\n        {error && (\n          <div className=\"px-5 mb-4\">\n            <p className=\"p-3 bg-red-400 text-white rounded shadow\">{error}</p>\n          </div>\n        )}\n      </div>\n      <div className=\"text-right mt-2\">\n        <span\n          onClick={onToggle}\n          className=\"text-blue-400 hover:text-blue-500 cursor-pointer\"\n        >\n          {newAccount ? \"Sign In\" : \"Create Account\"}\n        </span>\n      </div>\n    </>\n  );\n};\n\nexport default AuthForm;\n","import React from \"react\";\nimport { authService, firebaseInstance } from \"fbase\";\nimport AuthForm from \"components/AuthForm\";\nimport { FaGoogle, FaGithub } from \"react-icons/fa\";\n\nconst Auth = () => {\n  const onSocialClick = async (event) => {\n    const {\n      target: { name },\n    } = event;\n    let provider;\n    if (name === \"google\") {\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\n    } else if (name === \"github\") {\n      provider = new firebaseInstance.auth.GithubAuthProvider();\n    }\n\n    await authService.signInWithPopup(provider);\n  };\n\n  const SocialButtonGroup = () => {\n    return (\n      <div className=\"flex flex-col\">\n        <button\n          className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold rounded border hover:shadow py-3 px-4 mb-2\"\n          onClick={onSocialClick}\n          name=\"google\"\n        >\n          <FaGoogle className=\"inline mr-3\" size=\"20px\" /> Continue with Google\n        </button>\n        <button\n          className=\"bg-white hover:bg-gray-400 hover:text-white font-bold rounded border hover:shadow py-3 px-4 mb-2\"\n          onClick={onSocialClick}\n          name=\"github\"\n        >\n          <FaGithub className=\"inline mr-3\" size=\"20px\" /> Continue with Github\n        </button>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"container w-full h-screen flex flex-col items-center justify-center\">\n      <AuthForm>\n        <SocialButtonGroup />\n      </AuthForm>\n    </div>\n  );\n};\n\nexport default Auth;\n","import { dbService, storageService } from \"fbase\";\nimport React, { useState } from \"react\";\nimport { FiDelete, FiEdit3 } from \"react-icons/fi\";\nimport { CgProfile } from \"react-icons/cg\";\n\nconst Nweet = ({ nweetObj, isOwner }) => {\n  const [isEdit, setIsEdit] = useState(false);\n  const [newNweet, setNewNweet] = useState(nweetObj.text);\n  const onDeleteClick = async () => {\n    const ok = window.confirm(\"Are you sure Delete Nweet?\");\n    if (ok) {\n      await dbService.doc(`nweets/${nweetObj.id}`).delete();\n      await storageService.refFromURL(nweetObj.attachmentURL).delete();\n    }\n  };\n  const onToggleEdit = () => setIsEdit((prev) => !prev);\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    await dbService.doc(`nweets/${nweetObj.id}`).update({ text: newNweet });\n    setIsEdit(false);\n  };\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewNweet(value);\n  };\n\n  return (\n    <div className=\"inline-block border rounded mb-5 lg:w-3/6 md:w-10/12 w-10/12\">\n      {nweetObj.attachmentURL ? (\n        <img src={nweetObj.attachmentURL} alt=\"...\" width=\"100%\" />\n      ) : (\n        <div className=\"w-screen h-3\"></div>\n      )}\n      {isEdit ? (\n        <>\n          <form onSubmit={onSubmit} className=\"px-5\">\n            <div className=\"text-right mt-2\">\n              <input\n                type=\"submit\"\n                value=\"Edit Nweet\"\n                className=\"px-2 py-1 mr-2 bg-blue-400 hover:bg-blue-500 text-white rounded\"\n              />\n              <button\n                onClick={onToggleEdit}\n                className=\"px-2 py-1 bg-red-400 text-white hover:bg-red-500 rounded\"\n              >\n                Cancel\n              </button>\n            </div>\n            <input\n              type=\"text\"\n              placeholder=\"Edit is Nweet\"\n              value={newNweet}\n              onChange={onChange}\n              className=\"w-full my-2 border rounded p-3 text-gray-500 focus:text-gray-800 focus:shadow-lg\"\n            />\n          </form>\n        </>\n      ) : (\n        <div className=\"px-5 text-gray-600\">\n          <div className=\"flex justify-between items-center mt-2\">\n            <div className=\"flex justify-center items-center\">\n              {nweetObj.photoURL ? (\n                <img\n                  src={nweetObj.photoURL}\n                  alt=\"profile\"\n                  width=\"50px\"\n                  height=\"50px\"\n                  className=\"rounded-full inline mr-2\"\n                />\n              ) : (\n                <CgProfile size=\"50px\" className=\"mr-2\" />\n              )}\n              <span className=\"text-gray-400\">\n                {!nweetObj.displayName ? \"No NickName\" : nweetObj.displayName}\n              </span>\n            </div>\n            {isOwner && (\n              <div>\n                <button\n                  onClick={onToggleEdit}\n                  className=\"hover:text-gray-400 p-2 mr-1\"\n                >\n                  <FiEdit3 size=\"25px\" />\n                </button>\n                <button\n                  onClick={onDeleteClick}\n                  className=\"hover:text-gray-400 p-2\"\n                >\n                  <FiDelete size=\"25px\" />\n                </button>\n              </div>\n            )}\n          </div>\n          <h4 className=\"my-4\">{nweetObj.text}</h4>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Nweet;\n","import React, { useRef, useState } from \"react\";\nimport { dbService, storageService } from \"fbase\";\nimport { v4 as uuidV4 } from \"uuid\";\nimport { FcUpload } from \"react-icons/fc\";\n\nconst NwetterForm = ({ userObj }) => {\n  const [nweet, setNweet] = useState(\"\");\n  const [attachment, setAttachment] = useState(\"\");\n  const nwitteRef = useRef();\n  const fileRef = useRef();\n  // submit\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    let attachmentURL = \"\";\n    if (!nweet) {\n      alert(\"생각을 먼저 입력해 주세요.\");\n      nwitteRef.current.focus();\n      return;\n    }\n    if (attachment !== \"\") {\n      const attachmentRef = storageService\n        .ref()\n        .child(`${userObj.uid}/${uuidV4()}`);\n      const response = await attachmentRef.putString(attachment, \"data_url\");\n      attachmentURL = await response.ref.getDownloadURL();\n    }\n    const nweetObj = {\n      text: nweet,\n      createDt: Date.now(),\n      createId: userObj.uid,\n      displayName: userObj.displayName,\n      photoURL: userObj.photoURL,\n      attachmentURL,\n    };\n    await dbService\n      .collection(\"nweets\")\n      .add(nweetObj)\n      .then((result) => {\n        setNweet(\"\");\n        setAttachment(\"\");\n        fileRef.current.value = \"\";\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n  // 텍스트박스, 첨부파일(사진) 변경\n  const onChange = (event) => {\n    const {\n      target: { type, value, files },\n    } = event;\n\n    if (type === \"text\") {\n      setNweet(value);\n      return;\n    }\n\n    if (type === \"file\") {\n      const file = files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onloadend = (fileData) => setAttachment(fileData.target.result);\n        reader.readAsDataURL(file);\n      } else {\n        setAttachment(\"\");\n      }\n      return;\n    }\n  };\n  //첨부파일(사진) input box 변경\n  // const onFileChange = (event) => {\n  //   const {\n  //     target: { files },\n  //   } = event;\n\n  //   const file = files[0];\n  //   const reader = new FileReader();\n  //   reader.onloadend = (fileData) => setAttachment(fileData.target.result);\n  //   reader.readAsDataURL(file);\n  // };\n\n  const onClearAttachment = () => {\n    setAttachment(\"\");\n    fileRef.current.value = \"\";\n  };\n\n  return (\n    <form onSubmit={onSubmit}>\n      {attachment && (\n        <div className=\"mb-2 relative flex justify-center\">\n          <img src={attachment} alt=\"...\" className=\"w-80 h-48\" />\n          <div className=\"absolute right-0\">\n            <button\n              onClick={onClearAttachment}\n              className=\"py-2 px-4 text-white bg-red-500 hover:bg-red-600 font-bold rounded\"\n            >\n              Clear\n            </button>\n          </div>\n        </div>\n      )}\n      <div className=\"mb-2 h-10 border flex justify-between rounded\">\n        <input\n          type=\"text\"\n          name=\"nwitte\"\n          ref={nwitteRef}\n          placeholder=\"지금 당신의 생각은 어떻습니까?\"\n          value={nweet}\n          onChange={onChange}\n          maxLength={120}\n          className=\"p-2 w-10/12 h-full text-gray-400 focus:border-blue-700 focus:shadow-xl focus:text-gray-700 flex-auto rounded rounded-r-none\"\n        />\n        <input\n          type=\"submit\"\n          value=\"Nwitte\"\n          className=\"p-2 font-bold text-white bg-blue-500 hover:bg-blue-600 flex-auto rounded rounded-l-none\"\n        />\n      </div>\n      {/* <div className=\"w-full border flex justify-center p-3 text-center border-dashed\"> */}\n      <label\n        htmlFor=\"nwitteFile\"\n        className=\"block p-3 border border-dashed hover:text-white hover:bg-gray-400 text-center\"\n      >\n        <FcUpload size=\"25px\" className=\"inline\" /> 사진 올리기\n      </label>\n      <input\n        ref={fileRef}\n        type=\"file\"\n        name=\"nwitteFile\"\n        id=\"nwitteFile\"\n        accept=\"image/*\"\n        onChange={onChange}\n        className=\"hidden\"\n      />\n      {/* </div> */}\n    </form>\n  );\n};\n\nexport default NwetterForm;\n","import React, { useEffect, useState } from \"react\";\nimport { dbService } from \"fbase\";\nimport Nweet from \"components/Nweet\";\nimport NwetterForm from \"components/NwetterForm\";\n\nconst Home = ({ userObj }) => {\n  const [nweets, setNweets] = useState([]);\n\n  useEffect(() => {\n    dbService\n      .collection(\"nweets\")\n      .orderBy(\"createDt\", \"desc\")\n      .onSnapshot((result) => {\n        const nweetsArray = result.docs.map((n) => ({\n          ...n.data(),\n          id: n.id,\n          text: n.data().text,\n        }));\n        setNweets(nweetsArray);\n      });\n  }, []);\n\n  return (\n    <div className=\"px-3 w-full lg:w-4/5\">\n      <div className=\"border p-5 rounded-md shadow-lg my-5\">\n        <NwetterForm userObj={userObj} />\n      </div>\n      <div className=\"w-full flex flex-col items-center\">\n        {nweets &&\n          nweets.map((nweet) => (\n            <Nweet\n              key={nweet.id}\n              nweetObj={nweet}\n              isOwner={nweet.createId === userObj.uid}\n            />\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FaHome } from \"react-icons/fa\";\nimport { ImProfile } from \"react-icons/im\";\n\nconst Navigation = () => {\n  return (\n    <div className=\"flex justify-center p-5 border-b shadow fixed w-full bg-white z-30\">\n      <nav className=\"w-5/12\">\n        <ul className=\"flex justify-around\">\n          <li>\n            <Link to=\"/\" className=\"hover:text-gray-500\">\n              <div className=\"flex flex-col justify-center items-center\">\n                <FaHome size=\"25px\" />\n                <span>Home</span>\n              </div>\n            </Link>\n          </li>\n          <li>\n            <Link to=\"/profile\" className=\"hover:text-gray-500\">\n              <div className=\"flex flex-col justify-center items-center\">\n                <ImProfile size=\"25px\" />\n                <span>Profile</span>\n              </div>\n            </Link>\n          </li>\n        </ul>\n      </nav>\n    </div>\n  );\n};\n\nexport default Navigation;\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Profile from \"routes/Profile\";\nimport Auth from \"routes/Auth\";\nimport Home from \"routes/Home\";\nimport Navigation from \"./Navigation\";\n\nconst AppRouter = ({ isLoggedIn, userObj, refreshUser }) => {\n  return (\n    <Router>\n      {isLoggedIn && <Navigation userObj={userObj} />}\n\n      <Switch>\n        {isLoggedIn ? (\n          <div className=\"container pt-28 flex justify-center\">\n            <Route exact path=\"/\">\n              <Home userObj={userObj} />\n            </Route>\n            <Route exact path=\"/profile\">\n              <Profile userObj={userObj} refreshUser={refreshUser} />\n            </Route>\n          </div>\n        ) : (\n          <Route exact path=\"/\">\n            <Auth />\n          </Route>\n        )}\n      </Switch>\n    </Router>\n  );\n};\n\nexport default AppRouter;\n","import React, { useEffect, useState } from \"react\";\nimport AppRouter from \"components/Router\";\nimport { authService } from \"fbase\";\nimport { Helmet } from \"react-helmet\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        setUserObj({\n          displayName: user.displayName,\n          uid: user.uid,\n          photoURL: user.photoURL,\n          updateProfile: (args) => user.updateProfile(args),\n        });\n      } else {\n        setUserObj(null);\n      }\n\n      setInit(true);\n    });\n  }, []);\n\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    setUserObj({\n      displayName: user.displayName,\n      uid: user.uid,\n      photoURL: user.photoURL,\n      updateProfile: (args) => user.updateProfile(args),\n    });\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>Jung Nwitter</title>\n        <meta name=\"description\" content=\"Twitter를 clone 코딩 해보자!\" />\n      </Helmet>\n      {init ? (\n        <AppRouter\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj}\n          refreshUser={refreshUser}\n        />\n      ) : (\n        <div>Loading...</div>\n      )}\n      {/* <footer>&copy; Nwitter {new Date().getFullYear()}</footer> */}\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"components/App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}